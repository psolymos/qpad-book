<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 1 Introduction | Point count data analysis: How to violate assumptions and get away with it</title>
  <meta name="description" content="This book provides material for the workshop ‘Analysis of point-count data in the presence of variable survey methodologies and detection error’ at the AOS 2019 conference.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 1 Introduction | Point count data analysis: How to violate assumptions and get away with it" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://peter.solymos.org/qpad-book/" />
  <meta property="og:image" content="http://peter.solymos.org/qpad-book/images/cover.png" />
  <meta property="og:description" content="This book provides material for the workshop ‘Analysis of point-count data in the presence of variable survey methodologies and detection error’ at the AOS 2019 conference." />
  <meta name="github-repo" content="psolymos/qpad-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Introduction | Point count data analysis: How to violate assumptions and get away with it" />
  
  <meta name="twitter:description" content="This book provides material for the workshop ‘Analysis of point-count data in the presence of variable survey methodologies and detection error’ at the AOS 2019 conference." />
  <meta name="twitter:image" content="http://peter.solymos.org/qpad-book/images/cover.png" />

<meta name="author" content="Peter Solymos">


<meta name="date" content="2019-06-05">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="pcdata.html">
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">QPAD Book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Foreword</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#about-the-book-and-the-course"><i class="fa fa-check"></i><b>0.1</b> About the book and the course</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i><b>0.2</b> About the author</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#summary-of-course-objectives"><i class="fa fa-check"></i><b>0.3</b> Summary of course objectives</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#installing"><i class="fa fa-check"></i><b>0.4</b> Installing</a></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#these-are-just-reminders-to-be-deleted-later"><i class="fa fa-check"></i><b>0.5</b> These are just reminders, to be deleted later</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#design-based-approaches"><i class="fa fa-check"></i><b>1.1</b> Design-based approaches</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#model-based-approaches"><i class="fa fa-check"></i><b>1.2</b> Model-based approaches</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#our-approach"><i class="fa fa-check"></i><b>1.3</b> Our approach</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#r-basics"><i class="fa fa-check"></i><b>1.4</b> R basics</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="pcdata.html"><a href="pcdata.html"><i class="fa fa-check"></i><b>2</b> Organizing and Processing Point Count Data</a><ul>
<li class="chapter" data-level="2.1" data-path="pcdata.html"><a href="pcdata.html#josm-data-set"><i class="fa fa-check"></i><b>2.1</b> JOSM data set</a></li>
<li class="chapter" data-level="2.2" data-path="pcdata.html"><a href="pcdata.html#cross-tabulating-species-counts"><i class="fa fa-check"></i><b>2.2</b> Cross tabulating species counts</a></li>
<li class="chapter" data-level="2.3" data-path="pcdata.html"><a href="pcdata.html#joining-species-data-with-predictors"><i class="fa fa-check"></i><b>2.3</b> Joining species data with predictors</a></li>
<li class="chapter" data-level="2.4" data-path="pcdata.html"><a href="pcdata.html#explore-predictor-variables"><i class="fa fa-check"></i><b>2.4</b> Explore predictor variables</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>3</b> A Primer in Regression Techniques</a></li>
<li class="chapter" data-level="4" data-path="behavior.html"><a href="behavior.html"><i class="fa fa-check"></i><b>4</b> Behavioral Complexities</a></li>
<li class="chapter" data-level="5" data-path="detection.html"><a href="detection.html"><i class="fa fa-check"></i><b>5</b> The Detection Process</a></li>
<li class="chapter" data-level="6" data-path="recordings.html"><a href="recordings.html"><i class="fa fa-check"></i><b>6</b> Dealing with Recordings</a></li>
<li class="chapter" data-level="7" data-path="assumptions.html"><a href="assumptions.html"><i class="fa fa-check"></i><b>7</b> A Closer Look at Assumptions</a></li>
<li class="chapter" data-level="8" data-path="roadsides.html"><a href="roadsides.html"><i class="fa fa-check"></i><b>8</b> Understanding Roadside Surveys</a></li>
<li class="chapter" data-level="9" data-path="extras.html"><a href="extras.html"><i class="fa fa-check"></i><b>9</b> Miscellaneous Topics</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="http://peter.solymos.org/qpad-book/" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Point count data analysis: How to violate assumptions and get away with it</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Introduction</h1>
<blockquote>
<p>All assumptions are violated, but some are more than others</p>
</blockquote>
<p>A comparison of apples and oranges occurs when two items or
groups of items are compared that cannot be practically compared
(<a href="https://en.wikipedia.org/wiki/Apples_and_oranges">Wikipedia</a>).
The way we measure things can have a big impact on the outcome
of that measurement. For example, you might say that
“I saw 5 robins walking down the road”, while I might say that
“I only saw one robin while sitting on my porch”.
Who say more robins? If looking at only the numeric results,
you saw more robins than me. But this seems like
an apples to oranges comparison.</p>
<p>To compare apples to apples, we need to agree on a comparable
measurement scheme, or at least figure out how does <em>effort</em>
affect the observations.</p>
<p>Effort in our example can depend on,
e.g. the <em>area</em> of the physical space searched,
the amount of <em>time</em> spent, etc.
The outcome might further affected by
weather, time of year, time of day, location,
experience and skill level of the observer.</p>
<p>All these factors can affect the observed count.
Which brings us to the definition of a <em>point count</em>:
a trained observer
records all the birds
seen and heard
from a point count station
for a set period of time
within a defined distance radius.</p>
<p>Point count duration and distance have profound effect
on the counts, as shown in Figure <a href="intro.html#fig:intro-1">1.1</a>
showing that a 10-min unlimited distance count
is roughly 300% increased compared to 3-min 50-m counts
(averaged across 54 species of boreal songbirds, Matsuoka et al. 2014).</p>
<div class="figure"><span id="fig:intro-1"></span>
<img src="images/matsuoka-2014-fig-2.png" alt="Effects of duration and distance on mean counts (Matsuoka et al. 2014)." width="80%" />
<p class="caption">
Figure 1.1: Effects of duration and distance on mean counts (Matsuoka et al. 2014).
</p>
</div>
<p>Point counts are commonly used to answer questions like:</p>
<ul>
<li>How many? (Abundance, density, population size)</li>
<li>Is this location part of the range? (0/1)</li>
<li>How is abundance changing in space? (Distribution)</li>
<li>How is abundance changing in time? (Trend)</li>
<li>What is the effect of a treatment on abundance?</li>
</ul>
<div id="design-based-approaches" class="section level2">
<h2><span class="header-section-number">1.1</span> Design-based approaches</h2>
<p>Standards and recommendations can
maximize efficiency in the numbers of birds and species counted,
minimize extraneous variability in the counts.</p>
<p>But programs started to deviate from standards:
<em>“For example, only 3% of 196,000 point counts conducted during the period
1992–2011 across Alaska and Canada followed the standards recommended for the count period and count radius”</em> (Matsuoka et al. 2014).
Figure <a href="intro.html#fig:intro-2">1.2</a> show how point count protocol varies
across the boreal region of North America.</p>
<div class="figure"><span id="fig:intro-2"></span>
<img src="images/barker-2015-fig-2.png" alt="Survey methodology variation (colors) among contributed projects in the Boreal Avian Modelling (BAM) data base (Barker et al. 2015)." width="80%" />
<p class="caption">
Figure 1.2: Survey methodology variation (colors) among contributed projects in the Boreal Avian Modelling (BAM) data base (Barker et al. 2015).
</p>
</div>

<div class="rmdexercise">
<p><strong>Exercise</strong></p>
<p>In what regard can protocols differ?</p>
<p>What might drive protocol variation among projects?</p>
Why have we abandoned following protocols?
</div>

</div>
<div id="model-based-approaches" class="section level2">
<h2><span class="header-section-number">1.2</span> Model-based approaches</h2>
<p>Detection probabilities might vary even with fixed effort
(we’ll cover this more later),
and programs might have their own goals and constraints (access, training, etc).
These constraints would make it almost impossible, and potentially costly
to set up very specific standards.</p>
<p>Labour intensive methods for unmarked populations
have come to the forefront, and computing power of
personal computers opened the door for model-based approaches,
that can accomodate more variation given enough information
in the observed data. These methods often rely on ancillary
information and often some sort of replication.</p>
<p>Some of the commonly used model-based approaches are:</p>
<ul>
<li>double observer (<a href="https://doi.org/10.1642/0004-8038(2000)117%5B0393:ADOAFE%5D2.0.CO;2">Nichols et al. 2000</a>),</li>
<li>distance sampling (<a href="https://global.oup.com/academic/product/introduction-to-distance-sampling-9780198509271">Buckland et al. 2001</a>),</li>
<li>removal sampling (<a href="https://doi.org/10.1642/0004-8038(2002)119%5B0414:ARMFED%5D2.0.CO;2">Farnsworth et al. 2002</a>),</li>
<li>multiple visit occupancy (<a href="https://doi.org/10.1890/0012-9658(2002)083%5B2248:ESORWD%5D2.0.CO;2">MacKenzie et al. 2002</a>),</li>
<li>multiple visit abundance (<a href="https://doi.org/10.1111/j.0006-341X.2004.00142.x">Royle 2004</a>).</li>
</ul>
<p>Models come with assumptions, such as:</p>
<ul>
<li>population is closed during multiple visits,</li>
<li>observers are independent,</li>
<li>all individuals emit cues with identical rates,</li>
<li>spatial distribution of individuals is uniform,</li>
<li>etc.</li>
</ul>
<p>Although assumptions are everywhere, we are really good at ignoring
and violating them.</p>

<div class="rmdexercise">
<p><strong>Exercise</strong></p>
<p>Can you mention some assumptions from everyday life?</p>
Can you explain why we neglect/violate assumptions in these situations?
</div>

<p>Assumptions are violated, because we seek simplicity.
The main question we have to ask: <em>does it matter in practice</em> if
we violate the assumptions?</p>
</div>
<div id="our-approach" class="section level2">
<h2><span class="header-section-number">1.3</span> Our approach</h2>
<p>In this book and course, we will critically evaluate common assumptions made
when analyzing point count data using the following approach:</p>
<ol style="list-style-type: decimal">
<li>we will introduce a concept,</li>
<li>understand how we can infer it from data,</li>
<li>then we recreate the situation <em>in silico</em>,</li>
<li>and see how the outcome changes as we make different assumptions.</li>
</ol>
<p>It is guaranteed that we will violate every assumption we make.
To get away with it, we need to understand how much is too much,
and whether it has an impact in practice.
If there is a practical consequence, we will look at ways to minimize
that effects – so that we can safely ignore the assumption.</p>
</div>
<div id="r-basics" class="section level2">
<h2><span class="header-section-number">1.4</span> R basics</h2>
<p>This short document is intended to help you brush up your R skills.
If you feel that these R basics are not very familiar,
I suggest to take a look at some introductory R books,
sich as this preprint version of Norman Matloff’s <em>The Art of R Programming</em> book: <a href="http://heather.cs.ucdavis.edu/~matloff/132/NSPpart.pdf" class="uri">http://heather.cs.ucdavis.edu/~matloff/132/NSPpart.pdf</a>, check out Chapters 1–6.</p>
<p>R is a great calculator:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span></code></pre>
<pre><code>## [1] 3</code></pre>
<p>Assign a value and print an object using <code>=</code> or <code>&lt;-</code> (preferred in this book):</p>
<pre class="sourceCode r"><code class="sourceCode r">(<span class="dt">x =</span> <span class="dv">2</span>) <span class="co"># shorthand for print</span></code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(x)</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="co"># logical operator, not assignment</span></code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="fl">0.5</span>
y <span class="co"># another way to print</span></code></pre>
<pre><code>## [1] 2.5</code></pre>
<p>Logical operators come handy:</p>
<pre class="sourceCode r"><code class="sourceCode r">x <span class="op">==</span><span class="st"> </span>y <span class="co"># equal</span></code></pre>
<pre><code>## [1] FALSE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x <span class="op">!=</span><span class="st"> </span>y <span class="co"># not eaqual</span></code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x <span class="op">&lt;</span><span class="st"> </span>y <span class="co"># smaller than</span></code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x <span class="op">&gt;=</span><span class="st"> </span>y <span class="co"># greater than or equal</span></code></pre>
<pre><code>## [1] FALSE</code></pre>
<p>Vectors and sequences are created most often by the functions
<code>c</code>, <code>:</code>, <code>seq</code>, and <code>rep</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)
x</code></pre>
<pre><code>## [1] 1 2 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span><span class="op">:</span><span class="dv">3</span></code></pre>
<pre><code>## [1] 1 2 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dt">by =</span> <span class="dv">1</span>)</code></pre>
<pre><code>## [1] 1 2 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">5</span>)</code></pre>
<pre><code>## [1] 1 1 1 1 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dv">5</span>)</code></pre>
<pre><code>##  [1] 1 2 1 2 1 2 1 2 1 2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">each =</span> <span class="dv">5</span>)</code></pre>
<pre><code>##  [1] 1 1 1 1 1 2 2 2 2 2</code></pre>
<p>When doing operations with vectors remember that values of
the shorter object are recycled:</p>
<pre class="sourceCode r"><code class="sourceCode r">x <span class="op">+</span><span class="st"> </span><span class="fl">0.5</span></code></pre>
<pre><code>## [1] 1.5 2.5 3.5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x <span class="op">*</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">13</span>)</code></pre>
<pre><code>## Warning in x * c(10, 11, 12, 13): longer object length is not a
## multiple of shorter object length</code></pre>
<pre><code>## [1] 10 22 36 13</code></pre>
<p>Indexing and ordering vectors is a a fundamental skill:</p>
<pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">1</span>]</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>)] <span class="co"># a way of repeatig values</span></code></pre>
<pre><code>## [1] 1 1 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</code></pre>
<pre><code>## [1] 1 2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[x <span class="op">!=</span><span class="st"> </span><span class="dv">2</span>]</code></pre>
<pre><code>## [1] 1 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[x <span class="op">==</span><span class="st"> </span><span class="dv">2</span>]</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>x <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span>]</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">order</span>(x, <span class="dt">decreasing=</span><span class="ot">TRUE</span>)</code></pre>
<pre><code>## [1] 3 2 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[<span class="kw">order</span>(x, <span class="dt">decreasing=</span><span class="ot">TRUE</span>)]</code></pre>
<pre><code>## [1] 3 2 1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rev</span>(x) <span class="co"># reverse</span></code></pre>
<pre><code>## [1] 3 2 1</code></pre>
<p>See how <code>NA</code> values can influence
sorting character vectors:</p>
<pre class="sourceCode r"><code class="sourceCode r">z &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="ot">NA</span>)
z[z <span class="op">==</span><span class="st"> &quot;a&quot;</span>]</code></pre>
<pre><code>## [1] &quot;a&quot; NA</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">z[<span class="op">!</span><span class="kw">is.na</span>(z) <span class="op">&amp;</span><span class="st"> </span>z <span class="op">==</span><span class="st"> &quot;a&quot;</span>]</code></pre>
<pre><code>## [1] &quot;a&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">z[<span class="kw">is.na</span>(z) <span class="op">|</span><span class="st"> </span>z <span class="op">==</span><span class="st"> &quot;a&quot;</span>]</code></pre>
<pre><code>## [1] &quot;a&quot; NA</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.na</span>(z)</code></pre>
<pre><code>## [1] FALSE FALSE FALSE  TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which</span>(<span class="kw">is.na</span>(z))</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sort</span>(z)</code></pre>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sort</span>(z, <span class="dt">na.last=</span><span class="ot">TRUE</span>)</code></pre>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; NA</code></pre>
<p>There are a few special values:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.numeric</span>(<span class="kw">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;a&quot;</span>)) <span class="co"># NA: not available (missing or invalid)</span></code></pre>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre><code>## [1]  1 NA</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">0</span><span class="op">/</span><span class="dv">0</span> <span class="co"># NaN: not a number</span></code></pre>
<pre><code>## [1] NaN</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span><span class="op">/</span><span class="dv">0</span> <span class="co"># Inf</span></code></pre>
<pre><code>## [1] Inf</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">-1</span><span class="op">/</span><span class="dv">0</span> <span class="co"># -Inf</span></code></pre>
<pre><code>## [1] -Inf</code></pre>
<p>Matrices and arrays are vectors with dimensions, elements are in same mode:</p>
<pre class="sourceCode r"><code class="sourceCode r">(m &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dv">4</span>, <span class="dv">3</span>))</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dt">byrow=</span><span class="ot">TRUE</span>)</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9
## [4,]   10   11   12</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">array</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>))</code></pre>
<pre><code>## , , 1
## 
##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4
## 
## , , 2
## 
##      [,1] [,2]
## [1,]    5    7
## [2,]    6    8
## 
## , , 3
## 
##      [,1] [,2]
## [1,]    9   11
## [2,]   10   12</code></pre>
<p>Many objects have attributes:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(m)</code></pre>
<pre><code>## [1] 4 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(m) &lt;-<span class="st"> </span><span class="ot">NULL</span>
m</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(m) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">3</span>)
m</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dimnames</span>(m) &lt;-<span class="st"> </span><span class="kw">list</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>], LETTERS[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>])
m</code></pre>
<pre><code>##   A B  C
## a 1 5  9
## b 2 6 10
## c 3 7 11
## d 4 8 12</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">attributes</span>(m)</code></pre>
<pre><code>## $dim
## [1] 4 3
## 
## $dimnames
## $dimnames[[1]]
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;
## 
## $dimnames[[2]]
## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;</code></pre>
<p>Matrice and indices:</p>
<pre class="sourceCode r"><code class="sourceCode r">m[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>,]</code></pre>
<pre><code>##   A B  C
## a 1 5  9
## b 2 6 10</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">m[<span class="dv">1</span>,<span class="dv">2</span>]</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">m[,<span class="dv">2</span>]</code></pre>
<pre><code>## a b c d 
## 5 6 7 8</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">m[,<span class="dv">2</span>,drop=<span class="ot">FALSE</span>]</code></pre>
<pre><code>##   B
## a 5
## b 6
## c 7
## d 8</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">m[<span class="dv">2</span>]</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">m[<span class="kw">rownames</span>(m) <span class="op">==</span><span class="st"> &quot;c&quot;</span>,]</code></pre>
<pre><code>##  A  B  C 
##  3  7 11</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">m[<span class="kw">rownames</span>(m) <span class="op">!=</span><span class="st"> &quot;c&quot;</span>,]</code></pre>
<pre><code>##   A B  C
## a 1 5  9
## b 2 6 10
## d 4 8 12</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">m[<span class="kw">rownames</span>(m) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;e&quot;</span>),]</code></pre>
<pre><code>##   A B  C
## a 1 5  9
## c 3 7 11</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">m[<span class="op">!</span>(<span class="kw">rownames</span>(m) <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;e&quot;</span>)),]</code></pre>
<pre><code>##   A B  C
## b 2 6 10
## d 4 8 12</code></pre>
<p>Lists and indexing:</p>
<pre class="sourceCode r"><code class="sourceCode r">l &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">m =</span> m, <span class="dt">x =</span> x, <span class="dt">z =</span> z)
l</code></pre>
<pre><code>## $m
##   A B  C
## a 1 5  9
## b 2 6 10
## c 3 7 11
## d 4 8 12
## 
## $x
## [1] 1 2 3
## 
## $z
## [1] &quot;b&quot; &quot;a&quot; &quot;c&quot; NA</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">l<span class="op">$</span>ddd &lt;-<span class="st"> </span><span class="kw">sqrt</span>(l<span class="op">$</span>x)
l[<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]</code></pre>
<pre><code>## $x
## [1] 1 2 3
## 
## $z
## [1] &quot;b&quot; &quot;a&quot; &quot;c&quot; NA</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">l[[<span class="st">&quot;ddd&quot;</span>]]</code></pre>
<pre><code>## [1] 1.000 1.414 1.732</code></pre>
<p>Data frames are often required for statistical modeling.
A data frame is a list where length of elements match and elements
can be in different mode.</p>
<pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> x, <span class="dt">sqrt_x =</span> <span class="kw">sqrt</span>(x))
d</code></pre>
<p>Inspect structure of R objects:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(x)</code></pre>
<pre><code>##  num [1:3] 1 2 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(z)</code></pre>
<pre><code>##  chr [1:4] &quot;b&quot; &quot;a&quot; &quot;c&quot; NA</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(m)</code></pre>
<pre><code>##  int [1:4, 1:3] 1 2 3 4 5 6 7 8 9 10 ...
##  - attr(*, &quot;dimnames&quot;)=List of 2
##   ..$ : chr [1:4] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;
##   ..$ : chr [1:3] &quot;A&quot; &quot;B&quot; &quot;C&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(l)</code></pre>
<pre><code>## List of 4
##  $ m  : int [1:4, 1:3] 1 2 3 4 5 6 7 8 9 10 ...
##   ..- attr(*, &quot;dimnames&quot;)=List of 2
##   .. ..$ : chr [1:4] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;
##   .. ..$ : chr [1:3] &quot;A&quot; &quot;B&quot; &quot;C&quot;
##  $ x  : num [1:3] 1 2 3
##  $ z  : chr [1:4] &quot;b&quot; &quot;a&quot; &quot;c&quot; NA
##  $ ddd: num [1:3] 1 1.41 1.73</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(d)</code></pre>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  2 variables:
##  $ x     : num  1 2 3
##  $ sqrt_x: num  1 1.41 1.73</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(<span class="kw">as.data.frame</span>(m))</code></pre>
<pre><code>## &#39;data.frame&#39;:    4 obs. of  3 variables:
##  $ A: int  1 2 3 4
##  $ B: int  5 6 7 8
##  $ C: int  9 10 11 12</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(<span class="kw">as.list</span>(d))</code></pre>
<pre><code>## List of 2
##  $ x     : num [1:3] 1 2 3
##  $ sqrt_x: num [1:3] 1 1.41 1.73</code></pre>
<p>Get summaries of these objects:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(x)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     1.0     1.5     2.0     2.0     2.5     3.0</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(z)</code></pre>
<pre><code>##    Length     Class      Mode 
##         4 character character</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(m)</code></pre>
<pre><code>##        A              B              C        
##  Min.   :1.00   Min.   :5.00   Min.   : 9.00  
##  1st Qu.:1.75   1st Qu.:5.75   1st Qu.: 9.75  
##  Median :2.50   Median :6.50   Median :10.50  
##  Mean   :2.50   Mean   :6.50   Mean   :10.50  
##  3rd Qu.:3.25   3rd Qu.:7.25   3rd Qu.:11.25  
##  Max.   :4.00   Max.   :8.00   Max.   :12.00</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(l)</code></pre>
<pre><code>##     Length Class  Mode     
## m   12     -none- numeric  
## x    3     -none- numeric  
## z    4     -none- character
## ddd  3     -none- numeric</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(d)</code></pre>
<pre><code>##        x           sqrt_x    
##  Min.   :1.0   Min.   :1.00  
##  1st Qu.:1.5   1st Qu.:1.21  
##  Median :2.0   Median :1.41  
##  Mean   :2.0   Mean   :1.38  
##  3rd Qu.:2.5   3rd Qu.:1.57  
##  Max.   :3.0   Max.   :1.73</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="pcdata.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/psolymos/qpad-book/edit/master/01-intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["qpad-book.pdf", "qpad-book.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
